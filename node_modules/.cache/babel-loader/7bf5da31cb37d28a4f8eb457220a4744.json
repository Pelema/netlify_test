{"ast":null,"code":"import Web3 from 'web3';\nimport auctionContractBuild from 'contracts/auction.json';\nlet currentAccount;\nexport const initWeb3 = async () => {\n  const {\n    ethereum\n  } = window;\n\n  if (!ethereum) {\n    console.log('Please install Metamask..');\n    return;\n  } else {\n    try {\n      const accounts = await ethereum.request({\n        method: 'eth_requestAccounts'\n      });\n      console.log('Found account! Address: ', accounts[0]);\n\n      if (accounts.lenght !== 0) {\n        console.log('Authorized account found...');\n        currentAccount = accounts[0];\n      } else {\n        console.log('No authorized account found!');\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  /**\n   * log when account is changed\n   */\n\n\n  ethereum.on('accountsChanges', accounts => {\n    currentAccount = accounts[0];\n    console.log('Account changed to: ', accounts[0]);\n  }); // const web3 = new Web3(ethereum)\n  // const networkId = await web3.eth.net.getId()\n  // const auctionContract = web3.eth.Contract(auctionContractBuild.abi, auctionContractBuild.networks[networkId].address)\n};","map":{"version":3,"sources":["/home/hexx/Downloads/cbigold-develop/src/web3Client.js"],"names":["Web3","auctionContractBuild","currentAccount","initWeb3","ethereum","window","console","log","accounts","request","method","lenght","error","on"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,MAAjB;AACA,OAAOC,oBAAP,MAAiC,wBAAjC;AACA,IAAIC,cAAJ;AAEA,OAAO,MAAMC,QAAQ,GAAG,YAAY;AAEhC,QAAM;AAAEC,IAAAA;AAAF,MAAeC,MAArB;;AAEA,MAAI,CAACD,QAAL,EAAe;AACXE,IAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ;AACA;AAEH,GAJD,MAIO;AACH,QAAI;AACA,YAAMC,QAAQ,GAAG,MAAMJ,QAAQ,CAACK,OAAT,CAAiB;AAAEC,QAAAA,MAAM,EAAE;AAAV,OAAjB,CAAvB;AACAJ,MAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCC,QAAQ,CAAC,CAAD,CAAhD;;AAEA,UAAIA,QAAQ,CAACG,MAAT,KAAoB,CAAxB,EAA2B;AACvBL,QAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ;AACAL,QAAAA,cAAc,GAAGM,QAAQ,CAAC,CAAD,CAAzB;AACH,OAHD,MAGO;AACHF,QAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ;AACH;AACJ,KAVD,CAUC,OAAMK,KAAN,EAAY;AACTN,MAAAA,OAAO,CAACC,GAAR,CAAYK,KAAZ;AACH;AACJ;AAED;AACJ;AACA;;;AACIR,EAAAA,QAAQ,CAACS,EAAT,CAAY,iBAAZ,EAAgCL,QAAD,IAAY;AACvCN,IAAAA,cAAc,GAAGM,QAAQ,CAAC,CAAD,CAAzB;AACAF,IAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCC,QAAQ,CAAC,CAAD,CAA5C;AACH,GAHD,EA3BgC,CAgChC;AACA;AACA;AACH,CAnCM","sourcesContent":["import Web3 from 'web3'\nimport auctionContractBuild from 'contracts/auction.json'\nlet currentAccount\n\nexport const initWeb3 = async () => {\n\n    const { ethereum } = window\n\n    if (!ethereum) {\n        console.log('Please install Metamask..')\n        return\n\n    } else {\n        try {\n            const accounts = await ethereum.request({ method: 'eth_requestAccounts' })\n            console.log('Found account! Address: ', accounts[0])\n\n            if (accounts.lenght !== 0) {\n                console.log('Authorized account found...')\n                currentAccount = accounts[0]\n            } else {\n                console.log('No authorized account found!')\n            }\n        }catch(error){\n            console.log(error)\n        }\n    }\n\n    /**\n     * log when account is changed\n     */\n    ethereum.on('accountsChanges', (accounts)=>{\n        currentAccount = accounts[0]\n        console.log('Account changed to: ', accounts[0])\n    })\n\n    // const web3 = new Web3(ethereum)\n    // const networkId = await web3.eth.net.getId()\n    // const auctionContract = web3.eth.Contract(auctionContractBuild.abi, auctionContractBuild.networks[networkId].address)\n}"]},"metadata":{},"sourceType":"module"}